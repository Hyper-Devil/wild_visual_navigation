
<launch>
  <arg name="uncompress_alphasense_cam3"     default="True"/>
  <arg name="uncompress_alphasense_cam4"     default="True"/>
  <arg name="uncompress_alphasense_cam5"     default="True"/>
  <arg name="resize_alphasense_cam3"     default="True"/>
  <arg name="resize_alphasense_cam4"     default="True"/>
  <arg name="resize_alphasense_cam5"     default="True"/>

  <node if="$(arg uncompress_alphasense_cam3)" name="uncompress_cam3" pkg="image_transport" type="republish" args="compressed in:=/alphasense_driver_ros/cam3/debayered raw out:=/alphasense_driver_ros/cam3/debayered" />
  <node if="$(arg uncompress_alphasense_cam4)" name="uncompress_cam4" pkg="image_transport" type="republish" args="compressed in:=/alphasense_driver_ros/cam4/debayered raw out:=/alphasense_driver_ros/cam4/debayered" />
  <node if="$(arg uncompress_alphasense_cam5)" name="uncompress_cam5" pkg="image_transport" type="republish" args="compressed in:=/alphasense_driver_ros/cam5/debayered raw out:=/alphasense_driver_ros/cam5/debayered" />

  <!-- Launch the image_proc nodelet -->
  <node pkg="nodelet" type="nodelet" name="standalone_nodelet"  args="manager"/>
  <node if="$(arg resize_alphasense_cam3)" pkg="nodelet" type="nodelet" name="image_proc_nodelet_cam3" args="load image_proc/resize standalone_nodelet">
    <remap from="camera_info" to="/alphasense_driver_ros/cam3/camera_info" />
    <remap from="~camera_info" to="/alphasense_driver_ros/cam3/resize/camera_info" />
    <remap from="image" to="/alphasense_driver_ros/cam3/debayered" />
    <remap from="~image" to="/alphasense_driver_ros/cam3/debayered/resize" />
    <param name="scale_height" value="0.2074077" />
    <param name="scale_height" value="0.2074077" />
  </node>
    <node if="$(arg resize_alphasense_cam4)" pkg="nodelet" type="nodelet" name="image_proc_nodelet_cam4" args="load image_proc/resize standalone_nodelet">
    <remap from="camera_info" to="/alphasense_driver_ros/cam4/camera_info" />
    <remap from="~camera_info" to="/alphasense_driver_ros/cam4/resize/camera_info" />
    <remap from="image" to="/alphasense_driver_ros/cam4/debayered" />
    <remap from="~image" to="/alphasense_driver_ros/cam4/debayered/resize" />
    <param name="scale_height" value="0.2074077" />
    <param name="scale_height" value="0.2074077" />
  </node>
  <node if="$(arg resize_alphasense_cam5)" pkg="nodelet" type="nodelet" name="image_proc_nodelet_cam5" args="load image_proc/resize standalone_nodelet">
    <remap from="camera_info" to="/alphasense_driver_ros/cam5/camera_info" />
    <remap from="~camera_info" to="/alphasense_driver_ros/cam5/resize/camera_info" />
    <remap from="image" to="/alphasense_driver_ros/cam5/debayered" />
    <remap from="~image" to="/alphasense_driver_ros/cam5/debayered/resize" />
    <param name="scale_height" value="0.2074077" />
    <param name="scale_height" value="0.2074077" />
  </node>

<node name="dynparam_width_cam3" pkg="dynamic_reconfigure" type="dynparam" args="set /image_proc_nodelet_cam3 scale_width 0.2074077" />
<node name="dynparam_height_cam3" pkg="dynamic_reconfigure" type="dynparam" args="set /image_proc_nodelet_cam3 scale_height 0.2074077" />
<node name="dynparam_width_cam4" pkg="dynamic_reconfigure" type="dynparam" args="set /image_proc_nodelet_cam4 scale_width 0.2074077" />
<node name="dynparam_height_cam4" pkg="dynamic_reconfigure" type="dynparam" args="set /image_proc_nodelet_cam4 scale_height 0.2074077" />
<node name="dynparam_width_cam5" pkg="dynamic_reconfigure" type="dynparam" args="set /image_proc_nodelet_cam5 scale_width 0.2074077" />
<node name="dynparam_height_cam5" pkg="dynamic_reconfigure" type="dynparam" args="set /image_proc_nodelet_cam5 scale_height 0.2074077" />

</launch>
